{
  "description": "Boilerplate basic configuration",
  "$id": "https://mapcolonies.com/common/worker-boilerplate/v1",
  "type": "object",
  "title": "jobnikBoilerplateV1",
  "required": ["jobnik", "telemetry", "server"],
  "properties": {
    "telemetry": {
      "description": "Telemetry configuration",
      "type": "object",
      "default": {},
      "unevaluatedProperties": false,
      "examples": [
        {
          "shared": { "serviceName": "boilerplate" },
          "tracing": { "isEnabled": false },
          "logger": { "level": "info", "prettyPrint": false }
        }
      ],
      "properties": {
        "shared": {
          "$ref": "https://mapcolonies.com/common/telemetry/base/v1"
        },
        "tracing": {
          "$ref": "https://mapcolonies.com/common/telemetry/tracing/v1"
        },
        "logger": {
          "$ref": "https://mapcolonies.com/common/telemetry/logger/v1"
        },
        "metrics": {
          "description": "Metrics configuration"
        }
      },
      "required": ["logger", "shared", "tracing"]
    },
    "server": {
      "description": "Server configuration",
      "type": "object",
      "unevaluatedProperties": false,
      "default": {},
      "examples": [
        {
          "port": 8080,
          "request": { "payload": { "limit": "1mb" } }
        }
      ],
      "properties": {
        "port": {
          "minimum": 1,
          "maximum": 65535,
          "default": 8080,
          "description": "The port the server will listen on",
          "type": "integer",
          "x-env-value": "SERVER_PORT"
        }
      },
      "required": ["port"]
    },
    "jobnik": {
      "type": "object",
      "required": ["sdk", "worker"],
      "default": {},
      "properties": {
        "sdk": {
          "$ref": "https://mapcolonies.com/infra/jobnik/sdk/full/v1"
        },
        "worker": {
          "$ref": "https://mapcolonies.com/infra/jobnik/worker/v1"
        }
      }
    }
  }
}

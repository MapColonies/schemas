{
  "$id": "https://mapcolonies.com/common/telemetry/logger/v2",
  "title": "telemetryLoggerV2",
  "description": "Telemetry logger configuration",
  "type": "object",
  "required": ["level", "prettyPrint"],
  "unevaluatedProperties": false,
  "properties": {
    "level": {
      "$ref": "#/definitions/level"
    },
    "prettyPrint": {
      "$ref": "#/definitions/prettyPrint"
    },
    "enableOpentelemetry": {
      "default": false,
      "description": "Whether to enable OpenTelemetry logging integration",
      "type": "boolean",
      "x-env-value": "LOG_OPENTELEMETRY_ENABLED"
    },
    "opentelemetryProtocol": {
      "default": "grpc",
      "description": "The protocol to use for OpenTelemetry logging integration",
      "enum": ["grpc", "http/protobuf", "http/json"],
      "x-env-value": "OTEL_EXPORTER_OTLP_LOGS_PROTOCOL",
      "x-populate-as-env": true
    },
    "opentelemetryEndpoint": {
      "default": "http://localhost:4317",
      "description": "The endpoint for OpenTelemetry logging integration",
      "type": "string",
      "x-env-value": "OTEL_EXPORTER_OTLP_LOGS_ENDPOINT",
      "x-populate-as-env": true
    }
  },
  "examples": [
    {
      "level": "info",
      "prettyPrint": false
    }
  ],
  "definitions": {
    "level": {
      "default": "info",
      "description": "The log level",
      "x-env-value": "LOG_LEVEL",
      "enum": ["trace", "debug", "info", "warn", "error", "fatal"]
    },
    "prettyPrint": {
      "default": false,
      "description": "Whether to pretty print logs",
      "type": "boolean",
      "x-env-value": "LOG_PRETTY_PRINT_ENABLED"
    }
  }
}

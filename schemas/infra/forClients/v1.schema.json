{
  "$id": "https://mapcolonies.com/infra/jobManager/forClients/v1",
  "description": "The job manager schema for a client",
  "type": "object",
  "required": ["url", "job"],
  "properties": {
    "url": {
      "type": "string",
      "description": "The url of job-manager",
      "x-env-value": "JOB_MANAGER_URL"
    },
    "job": {
      "type": "object",
      "description": "The job configuration for 3D",
      "required": ["type"],
      "properties": {
        "type": {
          "type": "string",
          "description": "The type of the job",
          "x-env-value": "JOB_TYPE"
        }
      }
    },
    "task": {
      "type": "object",
      "description": "The task configuration for 3D",
      "required": ["type"],
      "properties": {
        "type": {
          "type": "string",
          "description": "The type of the task",
          "x-env-value": "TASK_TYPE"
        },
        "pollingIntervalTime": {
          "type": "number",
          "description": "Polling interval time to queue task (in milliseconds)",
          "default": 5000,
          "x-env-value": "TASK_POLLING_INTERVAL_TIME"
        },
        "maxAttempts": {
          "type": "number",
          "description": "Max attempts of working on task",
          "default": 3,
          "x-env-value": "TASK_MAX_ATTEMPTS"
        }
      }
    },
    "heartbeat": {
      "type": "object",
      "description": "Heartbeat manager configurations",
      "required": ["url"],
      "properties": {
        "url": {
          "type": "string",
          "description": "The url of heartbeat-manager",
          "x-env-value": "HEARTBEAT_URL"
        },
        "pingingIntervalTime": {
          "type": "number",
          "description": "Interval time to ping heartbeat on task (in milliseconds)",
          "default": 5000,
          "x-env-value": "HEARTBEAT_PINGING_INTERVAL_TIME"
        }
      }
    }
  }
}
